<!-- Tab navbar -->
<div class="sticky-top">
  <!-- General Nav bar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-dark p-0">
    <div class="container-fluid">
      <a class="navbar-brand" href="announcements">
        <%= image_tag "bsfc_logo.png", {:alt => "Berkeley Student Food Collective Logo", :width => 40, :height => 40} %>    
      </a>
      <small style="color: white;">Welcome <%= current_user.name %></small>
      <button id="hamburger-menu" class="navbar-toggler bg-light" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item text-end">
            <%= button_to "Admin Settings", settings_path, method: :get, class: "nav-link text-light btn-danger" %>
          </li>
          <li class="nav-item text-end">
            <%= button_to "Log Out", logout_path, class: "nav-link text-light btn-danger" %>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</div>

<!-- Settings -->
<h2 class="p-2">Settings</h2>
<%= form_tag settings_path, :method => "post", :class => "p-2" do %>
  <div class="mb-2">
    <%= label_tag :airtable_base_id, "Airtable Base ID", class: "form-label" %>
    <%= text_field_tag :airtable_base_id, nil, :class => "form-control", :value => @setting.airtable_base_id %>
  </div>
  <div class="mb-2">
    <%= label_tag :users_table_id, "Users Table ID", class: "form-label" %>
    <%= text_field_tag :users_table_id, nil, :class => "form-control", :value => @setting.users_table_id %>
  </div>
  <div class="mb-2">
    <%= label_tag :tasks_table_id, "Tasks Table ID", class: "form-label" %>
    <%= text_field_tag :tasks_table_id, nil, :class => "form-control", :value => @setting.tasks_table_id %>
  </div>
  <div class="mb-2">
    <%= label_tag :announcements_table_id, "Announcements Table ID", class: "form-label" %>
    <%= text_field_tag :announcements_table_id, nil, :class => "form-control", :value => @setting.announcements_table_id %>
  </div>
  <div class="mb-2">
    <%= label_tag :categories, "Task Categories (Please input as a comma separated list!)", class: "form-label" %>
    <%= text_field_tag :categories, nil, :class => "form-control", :value => @setting.categories %>
  </div>
  <div class="mb-2">
    <%= label_tag :password, "Enter Admin Password to update changes", class: "form-label" %>
    <%= password_field_tag :password, nil, :class => "form-control" %>
  </div>
  <div class="mb-2 d-flex justify-content-center">
    <%= submit_tag "Update Settings", :class => "btn btn-danger", :id => "submit-update-settings" %>
  </div>
<% end %>

<div class="mb-2 d-flex justify-content-center">
  <%= link_to "Click here to change Admin Password", update_password_path %>
</div>
